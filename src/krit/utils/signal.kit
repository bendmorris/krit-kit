#[promote] abstract Signal: function () -> Void {
    public function invoke() {
        if this != (null as Signal) {
            this();
        }
    }
}

#[promote] abstract Signal1[A]: function(A) -> Void {
    public function invoke(a: A) {
        if this != (null as Self) {
            this(a);
        }
    }
}

#[promote] abstract Signal2[A, B]: function(A, B) -> Void {
    public function invoke(a: A, b: B) {
        if this != (null as Self) {
            this(a, b);
        }
    }
}

#[promote] abstract Signal3[A, B, C]: function(A, B, C) -> Void {
    public function invoke(a: A, b: B, c: C) {
        if this != (null as Self) {
            this(a, b, c);
        }
    }
}

typedef TimeSignal = Signal1[Double];
typedef UpdateSignal = Signal1[Ptr[UpdateContext]];
typedef RenderSignal = Signal1[Ptr[RenderContext]];
