enum Measurement {
    Absolute(v: Float);
    Percent(v: Float);

    public function measure(max: Float): Float {
        match this {
            Absolute(v) => return v;
            Percent(v) => return v * max;
        }
        return 0;
    }
}

struct AnchoredMeasurement {
    var value: Measurement;
    var anchor: Float = 0;

    public function measure(max: Float, size: Float): Float {
        return this.value.measure(max) - size * this.anchor;
    }
}
